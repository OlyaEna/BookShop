<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<header th:insert="fragments/head :: head"></header>
<title>Мои сообщения</title>
<body>
<!-- Header-->
<header th:insert="fragments/userHeader :: userHeader"></header>
<section style="background-color: #eee;">
    <div class="container py-5">
        <div class="row">
            <div class="col">
                <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="/support">Оставить сообщение</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Мои сообщения</li>
                    </ol>
                </nav>
            </div>
        </div>
        <div class="container"><h2>Мои сообщения</h2>
            <span th:if="${messages.size() == 0}">У вас еще нет сообщений в поддержку</span>
            <table sec:authorize="isAuthenticated()" th:if="${messages.size() > 0}"
                   class="table table-hover">
                <thead class="thead-light">
                <tr>
                    <th>Номер сообщения</th>
                    <th>Тема сообщения</th>
                    <th>Детали</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="mess : ${messages}">
                    <td th:text="${mess.id}"></td>
                    <td th:text="${mess.topic}"></td>
                    <td><a class="btn btn-secondary" th:href="@{'/message-details/' + ${mess.id}}">Детали</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
</body>
</html>